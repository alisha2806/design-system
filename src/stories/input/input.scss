@import "../assets/styles/custom";

$container-width: 500px;
$line-height: 20px;
$input-min-width: 280px;
$input-padding: 8px;
$input-border-width: 1px;

.custom-input {
  &-container {
    &.full-size {
      display: flex;
      align-items: center;
      width: 100%;
      flex-wrap: wrap;
    }
    &.top-labelled:not(.full-size) {
      display: inline-block;
    }
    &.left-labelled:not(.full-size) {
      display: flex;
      width: $container-width;
      justify-content: space-between;
      align-items: center;
    }
  }

  &-label {
    display: block;
    font-size: $base-font-size;
    font-weight: 400;
    line-height: $line-height;
    color: $text-dark;
    padding: 0;
    .top-labelled:not(.full-size) & {
      margin-bottom: 4px;
    }
    .full-size & {
      margin-right: 10px;
    }
  }

  &-group {
    height: 40px;
    .full-size & {
      flex-grow: 1;
    }
  }

  &-wrapper {
    position: relative;
  }

  &-control {
    @include resetInput;
    font-size: $base-font-size;
    font-weight: 400;
    line-height: $line-height;
    color: $text-dark;
    min-width: $input-min-width;
    background-color: $white;
    border: $input-border-width solid $layout-border;
    border-radius: 4px;
    padding: $input-padding;
    transition: 0.2s border-color, 0.2s box-shadow;
    height: 40px;
    &:focus {
      border-color: $system-accent;
      box-shadow: inset 0 0 0 1px $system-active;
      outline: none;
    }
    &.disabled {
      cursor: default;
      background-color: $layout-disabled;
      border-color: $layout-disabled-border;
      pointer-events: none;
    }
    &.full-size-input {
      width: 100%;
    }
  }

  &-button {
    @include resetButton;
    font-size: 0;
    width: $line-height;
    height: $line-height;
    padding: 5px;
    background-image: url("../assets/images/search.svg");
    background-position: center;
    background-repeat: no-repeat;
    position: absolute;
    right: $input-padding + $input-border-width;
    bottom: $line-height / 2 + $input-padding + $input-border-width;
    transform: translateY(50%);

    &.search {
      background-image: url("../assets/images/search.svg");
      background-size: 95%;
    }

    &.clear {
      background-image: url("../assets/images/close.svg");
      background-size: 80%;
    }

    .disabled + & {
      display: none;
    }
  }

  &-error {
    color: $system-attention;
    font-size: $small-font-size;
    margin-top: 5px;
  }
}
