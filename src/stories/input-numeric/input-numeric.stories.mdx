import {Meta, Story, Canvas, Preview} from '@storybook/addon-docs/blocks';
import InputNumericComponent from './input-numeric.component';
import {CommonModule} from '@angular/common';
import {MatInputModule} from '@angular/material/input';
import {MatFormFieldModule} from '@angular/material/form-field';
import {BrowserAnimationsModule} from '@angular/platform-browser/animations';
import {ReactiveFormsModule, Validators} from '@angular/forms';
import {moduleMetadata} from '@storybook/angular';

<Meta title='Numeric' component={InputNumericComponent}
decorators={[
  moduleMetadata({
    imports: [CommonModule,
            MatInputModule,
            BrowserAnimationsModule,
            MatFormFieldModule,
            ReactiveFormsModule]
        })
]} />

# Numeric Input

export const Template = (args) => <InputNumericComponent {...args} />

###### Selector

```html
  <p-input-numeric></p-input-numeric>
```

###### Label Position
<Canvas>
  <Story name="LabelFirst"
     args={{
         label: 'Label',
         ariaLabel: 'Label',
         value: 100,
         validators: Validators.required
     }}>
     {Template.bind({})}
   </Story>
  <Story name="LabelLast"
    args={{
       label: 'Label',
       ariaLabel: 'Label',
       value: 100,
       validators: Validators.required,
       labelLast: true
    }}>
  {Template.bind({})}
  </Story>
  <Story name="NoLabel"
    args={{
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### Disabled
<Canvas>
  <Story name="LabelFirstDisabled"
     args={{
         label: 'Label',
         ariaLabel: 'Label',
         value: 100,
         validators: Validators.required,
         disabled: true
     }}>
     {Template.bind({})}
   </Story>
  <Story name="LabelLastDisabled"
    args={{
       label: 'Label',
       ariaLabel: 'Label',
       value: 100,
       validators: Validators.required,
       labelLast: true,
       disabled: true
    }}>
  {Template.bind({})}
  </Story>
  <Story name="NoLabelDisabled"
    args={{
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        disabled: true
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### Errors
<Canvas>
  <Story name="ErrorState" height="100px"
    args={{
        label: 'Label',
        ariaLabel: 'Label',
        value: null,
        validators: Validators.required
    }}>
    {Template.bind({})}
  </Story>
  <Story name="ErrorMessage"
      args={{
          label: 'Label',
          ariaLabel: 'Label',
          value: null,
          validators: Validators.required,
          errorMessage: 'Validation text'
      }}>
      {Template.bind({})}
    </Story>
</Canvas>

###### Component
```ts
export default class InputNumericComponent implements OnInit {
  @Input() type: string = 'number';
  @Input() label: string;
  @Input() ariaLabel: string; // required
  @Input() placeholder: number;
  @Input() errorMessage: string;
  @Input() disabled: boolean = false;
  @Input() readonly: boolean = false;
  @Input() value: number;
  @Input() validators: ValidatorFn[];
  @Input() labelLast: boolean = false;
  public customControl: FormControl;

  ngOnInit(): void {
    this.customControl = new FormControl(
      {value: this.value, disabled: this.disabled},
      this.validators);
  }
}
```

